@tailwind base;
@tailwind components;
@tailwind utilities;

/* Accessibility improvements */
@layer base {
  /* Improve font rendering and readability */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Ensure proper font family with fallbacks */
  body {
    font-family: var(--font-inter), 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  }

  /* Screen reader only class */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* When sr-only element receives focus */
  .sr-only:focus,
  .focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    :root {
      --border: 0 0% 0%;
      --ring: 0 0% 0%;
    }
    
    .dark {
      --border: 0 0% 100%;
      --ring: 0 0% 100%;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Better focus indicators */
  *:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }

  /* Ensure minimum touch target size */
  button,
  input[type="button"],
  input[type="submit"],
  input[type="reset"],
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Improve text contrast for better readability */
  .text-slate-400 {
    color: hsl(217.9 10.6% 64.9%);
  }

  .text-slate-500 {
    color: hsl(220.9 13.0% 52.0%);
  }

  /* Skip link styles */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    padding: 8px 16px;
    text-decoration: none;
    border-radius: 4px;
    z-index: 1000;
    transition: top 0.3s ease;
  }

  .skip-link:focus {
    top: 6px;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Touch-friendly utilities */
  .touch-manipulation {
    touch-action: manipulation;
  }

  /* Accessibility utilities */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
  }

  .focus-ring-inset {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-ring;
  }

  /* High contrast border utilities */
  @media (prefers-contrast: high) {
    .border-contrast {
      border-color: currentColor;
      border-width: 2px;
    }
  }
}

@layer base {
  :root {
    /* Grafana-style Dark Theme (Default) */
    --background: 217 32% 6%;           /* #0F1419 - Grafana dark background */
    --foreground: 213 27% 97%;          /* #F8F9FA - Primary text */
    --card: 217 23% 10%;                /* #181B1F - Panel background */
    --card-foreground: 213 27% 97%;     /* #F8F9FA - Panel text */
    --popover: 217 23% 10%;             /* #181B1F - Popover background */
    --popover-foreground: 213 27% 97%;  /* #F8F9FA - Popover text */
    --primary: 215 100% 47%;            /* #1F60C4 - Primary blue */
    --primary-foreground: 0 0% 100%;    /* White text on primary */
    --secondary: 0 0% 15%;              /* #262626 - Secondary background */
    --secondary-foreground: 210 15% 82%; /* #C7D0D9 - Secondary text */
    --muted: 0 0% 15%;                  /* #262626 - Muted background */
    --muted-foreground: 210 8% 65%;     /* #9CA0A6 - Muted text */
    --accent: 15 100% 60%;              /* #FF6B35 - Grafana accent orange */
    --accent-foreground: 0 0% 100%;     /* White text on accent */
    --destructive: 354 70% 54%;         /* #E02F44 - Error red */
    --destructive-foreground: 0 0% 100%; /* White text on destructive */
    --success: 142 69% 39%;             /* #299C58 - Success green */
    --warning: 32 100% 50%;             /* #FF9500 - Warning orange */
    --info: 215 100% 47%;               /* #1F60C4 - Info blue */
    --border: 0 0% 15%;                 /* #262626 - Border color */
    --input: 0 0% 15%;                  /* #262626 - Input background */
    --ring: 15 100% 60%;                /* #FF6B35 - Focus ring */
    
    /* Chart colors - Grafana-inspired palette */
    --chart-1: 215 100% 47%;            /* Blue */
    --chart-2: 142 69% 39%;             /* Green */
    --chart-3: 15 100% 60%;             /* Orange */
    --chart-4: 354 70% 54%;             /* Red */
    --chart-5: 32 100% 50%;             /* Yellow */
    --chart-6: 283 39% 53%;             /* Purple */
    --chart-7: 180 77% 35%;             /* Cyan */
    --chart-8: 320 65% 52%;             /* Pink */
    
    /* Panel-specific colors */
    --panel-background: 217 23% 10%;    /* #181B1F */
    --panel-border: 0 0% 15%;           /* #262626 */
    --panel-header: 217 32% 6%;         /* #0F1419 */
    
    /* Data colors */
    --data-positive: 142 69% 39%;       /* Green for positive values */
    --data-negative: 354 70% 54%;       /* Red for negative values */
    --data-neutral: 210 8% 65%;         /* Gray for neutral values */
    
    /* Status colors */
    --status-online: 142 69% 39%;       /* Green */
    --status-warning: 32 100% 50%;      /* Orange */
    --status-error: 354 70% 54%;        /* Red */
    --status-offline: 210 8% 65%;       /* Gray */
    
    --radius: 0.25rem;                  /* Smaller radius for Grafana style */
    
    /* Sidebar using same colors for consistency */
    --sidebar-background: 217 32% 6%;
    --sidebar-foreground: 213 27% 97%;
    --sidebar-primary: 215 100% 47%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 217 23% 10%;
    --sidebar-accent-foreground: 213 27% 97%;
    --sidebar-border: 0 0% 15%;
    --sidebar-ring: 15 100% 60%;
  }
  
  /* Force dark theme - override any light theme attempts */
  .light {
    --background: 217 32% 6%;
    --foreground: 213 27% 97%;
    --card: 217 23% 10%;
    --card-foreground: 213 27% 97%;
    --popover: 217 23% 10%;
    --popover-foreground: 213 27% 97%;
    --primary: 215 100% 47%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 15%;
    --secondary-foreground: 210 15% 82%;
    --muted: 0 0% 15%;
    --muted-foreground: 210 8% 65%;
    --accent: 15 100% 60%;
    --accent-foreground: 0 0% 100%;
    --destructive: 354 70% 54%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 15%;
    --input: 0 0% 15%;
    --ring: 15 100% 60%;
  }
  
  .dark {
    /* Same as root - ensuring consistency */
    --background: 217 32% 6%;
    --foreground: 213 27% 97%;
    --card: 217 23% 10%;
    --card-foreground: 213 27% 97%;
    --popover: 217 23% 10%;
    --popover-foreground: 213 27% 97%;
    --primary: 215 100% 47%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 15%;
    --secondary-foreground: 210 15% 82%;
    --muted: 0 0% 15%;
    --muted-foreground: 210 8% 65%;
    --accent: 15 100% 60%;
    --accent-foreground: 0 0% 100%;
    --destructive: 354 70% 54%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 15%;
    --input: 0 0% 15%;
    --ring: 15 100% 60%;
    --chart-1: 215 100% 47%;
    --chart-2: 142 69% 39%;
    --chart-3: 15 100% 60%;
    --chart-4: 354 70% 54%;
    --chart-5: 32 100% 50%;
    --sidebar-background: 217 32% 6%;
    --sidebar-foreground: 213 27% 97%;
    --sidebar-primary: 215 100% 47%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 217 23% 10%;
    --sidebar-accent-foreground: 213 27% 97%;
    --sidebar-border: 0 0% 15%;
    --sidebar-ring: 15 100% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}
